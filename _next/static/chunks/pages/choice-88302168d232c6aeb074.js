_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{"8A8B":function(t,n,e){"use strict";function r(t){var n=new Date(t),e=n.getFullYear(),r=String(n.getMonth()+1).padStart(2,"0"),o=String(n.getDate()).padStart(2,"0"),i=String(n.getHours()).padStart(2,"0"),c=String(n.getMinutes()).padStart(2,"0"),a=String(n.getSeconds()).padStart(2,"0");return"".concat(e,"-").concat(r,"-").concat(o," ").concat(i,":").concat(c,":").concat(a)}function o(t){return new Promise((function(n,e){var r=new Image;r.onload=function(){n(!0)},r.onerror=function(){e()},r.src=t}))}e.d(n,"b",(function(){return r})),e.d(n,"c",(function(){return o})),e.d(n,"e",(function(){return i})),e.d(n,"a",(function(){return c})),e.d(n,"d",(function(){return a}));var i=function(t){return new Promise((function(n){return setTimeout(n,t)}))},c=function(t,n,e){return Math.max(n,Math.min(e,t))},a=function(t){return 0===Object.keys(t).length}},"J/v5":function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var r=function(t){return"animeTitle"in t}},LY0y:function(t,n){(function(n){t.exports=function(){var t={880:function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}},e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}},i=!0;try{t[n](o,o.exports,r),i=!1}finally{i&&delete e[n]}return o.exports}return r.ab=n+"/",r(880)}()}).call(this,"/")},LYS7:function(t,n,e){"use strict";e.d(n,"a",(function(){return b}));var r=e("6FTQ");var o=e("8rE2");function i(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=e("xvhg"),a=e("LvDl"),u=e.n(a),s=e("q1tI"),d=e("MhBB"),f=e("J/v5"),l=e("psZa"),p=e("8A8B");function b(){var t=Object(s.useState)(!1),n=t[0],e=t[1],r=Object(s.useState)([]),o=r[0],a=r[1],b=Object(s.useState)({icy:"",time:1,wordCounts:{},wordCountsAna:[]}),v=b[0],m=b[1];Object(s.useEffect)((function(){var t=Object(d.c)();t.collection("song").doc("current").onSnapshot((function(t){var n,r=t.data();Object(f.a)(r)&&(null===(n=r.imageLinks)||void 0===n||n.reverse());var o=Object.entries(r.wordCounts).filter((function(t){return Object(c.a)(t,1)[0]!==r.icy})).map((function(t){var n=Object(c.a)(t,2),e=n[0],r=n[1];return{name:e,count:r,label:"[".concat(e," (").concat(1===r?"\u521d":"".concat(r," \u56de\u76ee"),")]")}}));r.wordCountsAna=u.a.sortBy(o,["count"]),m(r),e(!0)})),t.collection("hist").doc(l.a.eventId).collection("songs").orderBy("time","desc").limit(10).onSnapshot((function(t){var n=t.docs.map((function(t){var n=t.data(),e=n.time,r=n.title,o=Object(p.b)(e);return{title:r,time:e,timeStr:o,timeCate:o.substring(12,13)}}));a(n)}))}),[]);return[n,v,o,function(t){Object(d.c)().collection("song").doc("current").update({imageLinks:[t].concat(i((null===v||void 0===v?void 0:v.imageLinks)||[]))})}]}},foW8:function(t,n,e){"use strict";e.r(n);var r=e("nKUr"),o=e("soUV"),i=e("xvhg"),c=(e("q1tI"),e("vOnD")),a=e("LYS7");function u(){var t,n=Object(a.a)(),e=Object(i.a)(n,4),o=e[0],c=e[1],u=e[3];return o?Object(r.jsx)(s,{children:null===(t=c.imageLinks)||void 0===t?void 0:t.map((function(t,n){return Object(r.jsx)("div",{onClick:function(){u(t)},children:Object(r.jsx)("img",{src:t})},n)}))}):Object(r.jsx)("p",{children:"\u3061\u3087\u3063\u3068\u307e\u3063\u3066\u306d"})}var s=c.b.div.withConfig({displayName:"BgChoice__Wrap",componentId:"sc-1vgx2qd-0"})(["width:100vw;padding:16px;display:flex;flex-wrap:wrap;div{border:solid black 1px;cursor:pointer;&:first-child{border-color:red;}margin:4px;padding:2px;width:200px;}img{width:100%;}"]);var d=function(){return Object(r.jsx)(u,{})};n.default=function(){return Object(r.jsx)(o.a,{title:"\u80cc\u666f\u88dc\u6b63 - vipstream",children:Object(r.jsx)(d,{})})}},rXEh:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/choice",function(){return e("foW8")}])},rg98:function(t,n,e){"use strict";function r(t,n,e,r,o,i,c){try{var a=t[i](c),u=a.value}catch(s){return void e(s)}a.done?n(u):Promise.resolve(u).then(r,o)}function o(t){return function(){var n=this,e=arguments;return new Promise((function(o,i){var c=t.apply(n,e);function a(t){r(c,o,i,a,u,"next",t)}function u(t){r(c,o,i,a,u,"throw",t)}a(void 0)}))}}e.d(n,"a",(function(){return o}))}},[["rXEh",1,0,4,5,7,3,2,6]]]);