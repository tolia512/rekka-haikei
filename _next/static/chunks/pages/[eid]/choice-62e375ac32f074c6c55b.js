_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{DA8Q:function(n,t,e){"use strict";e.d(t,"a",(function(){return v}));var r=e("vJKn"),o=e.n(r),c=e("6FTQ");var i=e("8rE2");function a(n){return function(n){if(Array.isArray(n))return Object(c.a)(n)}(n)||function(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||Object(i.a)(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=e("rg98"),s=e("xvhg"),f=e("LvDl"),d=e.n(f),l=e("q1tI"),p=e("MhBB"),b=e("BJnI");function v(){var n=Object(l.useState)(!1),t=n[0],e=n[1],r=Object(b.a)(),c=Object(l.useState)({icy:"",time:1,wordCounts:{},wordCountsAna:[]}),i=c[0],f=c[1];Object(l.useEffect)((function(){var n=Object(p.e)().collection("song").doc(r).onSnapshot((function(n){var t=n.data(),r=Object.entries(t.wordCounts).filter((function(n){return Object(s.a)(n,1)[0]!==t.icy})).map((function(n){var t=Object(s.a)(n,2),e=t[0],r=t[1];return{name:e,count:r,label:"[".concat(e," (").concat(1===r?"\u521d":"".concat(r," \u56de\u76ee"),")]")}}));t.wordCountsAna=d.a.sortBy(r,["count"]),f(t),e(!0)}));return function(){return n()}}),[r]);var v=function(){var n=Object(u.a)(o.a.mark((function n(t){var e,c,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object(p.e)(),n.next=3,e.collection("song").doc(r).get();case 3:if(c=n.sent.data(),(i=c.imageLinks||[])[0]!==t&&i.includes(t)){n.next=7;break}return n.abrupt("return");case 7:e.collection("song").doc(r).update({imageLinks:[t].concat(a(i.filter((function(n){return n!==t}))))});case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return[t,i,v]}},GTJI:function(n,t,e){"use strict";e.r(t),e.d(t,"__N_SSG",(function(){return d}));var r=e("nKUr"),o=e("soUV"),c=e("xvhg"),i=(e("q1tI"),e("vOnD")),a=e("DA8Q");function u(){var n,t=Object(a.a)(),e=Object(c.a)(t,3),o=e[0],i=e[1],u=e[2];return o?Object(r.jsx)(s,{children:null===(n=i.imageLinks)||void 0===n?void 0:n.map((function(n,t){return Object(r.jsx)("div",{onClick:function(){0!==t&&confirm("\u80cc\u666f\u3092\u5909\u66f4\u3057\u307e\u3059\u304b\uff1f")&&u(n)},children:Object(r.jsx)("img",{src:n})},"".concat(i.time,"_").concat(n))}))}):Object(r.jsx)("p",{children:"\u3061\u3087\u3063\u3068\u307e\u3063\u3066\u306d"})}var s=i.b.div.withConfig({displayName:"BgChoicePage__Wrap",componentId:"sc-1hr03z-0"})(["width:100vw;padding:16px;display:flex;flex-wrap:wrap;div{border:solid black 1px;cursor:pointer;&:first-child{border-color:red;cursor:auto;}margin:4px;padding:2px;width:200px;}img{width:100%;}"]);var f=function(){return Object(r.jsx)(u,{})},d=!0;t.default=function(){return Object(r.jsx)(o.a,{title:"\u80cc\u666f\u88dc\u6b63 - vipstream",children:Object(r.jsx)(f,{})})}},LY0y:function(n,t){(function(t){n.exports=function(){var n={880:function(n){n.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}}},e={};function r(t){if(e[t])return e[t].exports;var o=e[t]={exports:{}},c=!0;try{n[t](o,o.exports,r),c=!1}finally{c&&delete e[t]}return o.exports}return r.ab=t+"/",r(880)}()}).call(this,"/")},oAT3:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[eid]/choice",function(){return e("GTJI")}])},rg98:function(n,t,e){"use strict";function r(n,t,e,r,o,c,i){try{var a=n[c](i),u=a.value}catch(s){return void e(s)}a.done?t(u):Promise.resolve(u).then(r,o)}function o(n){return function(){var t=this,e=arguments;return new Promise((function(o,c){var i=n.apply(t,e);function a(n){r(i,o,c,a,u,"next",n)}function u(n){r(i,o,c,a,u,"throw",n)}a(void 0)}))}}e.d(t,"a",(function(){return o}))}},[["oAT3",1,0,5,6,8,2,3,4,7]]]);